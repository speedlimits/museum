<html>

<head>

	<script type="text/javascript" src="js/jquery-1.2.6.min.js"></script>
    <script type="text/javascript" src="js/jquery-ui-1.6.custom.min.js"></script>
    <script type="text/javascript" src="js/ui.coverflow.custom.js"></script> 
    <script type="text/javascript" src="js/sylvester.js"></script> 
    <script type="text/javascript" src="js/pb.transformie.js"></script>
    <script type="text/javascript" src="js/sirikata.main.js"></script>
 	<script type="text/javascript" src="js/sirikata.ui.js"></script>
    <script type="text/javascript" src="js/jquery.selectboxes.min.js"></script>
	<script type="text/javascript" src="js/jquery.geturlparam.js"></script>

<script type="text/javascript">


		function loadScreen(screen, page) { $(screen).load(page).fadeIn("slow"); }
		function hideScreen(screen) {$(screen).fadeOut(); }
		
		
		function setup () {
			loadScreen("#navigation-screen", "screens/navigation.html");	
		}
		
		function curatorMode(mode) {
			var mode = (mode == null) ? 0 : mode;
			
			if (mode == 0) {
				loadScreen("#modal-screen", "screens/curator_welcome.html");
			} else {
				hideScreen("#modal-screen");
				loadScreen("#top-bar", "screens/topbar_curator.html");	
				if (mode == 1) { // art 
					loadScreen("#detail-screen", "screens/curator_art.html");	
				} else if (mode == 2) { // frames 
					loadScreen("#detail-screen", "screens/curator_frames.html");	
				} else if (mode == 3) { // walls 
					loadScreen("#detail-screen", "screens/curator_walls.html");	
				} else if (mode == 4) { // lights 
					loadScreen("#detail-screen", "screens/curator_lights.html");	
				} else if (mode == 5) { // save 
					loadScreen("#detail-screen", "screens/curator_save.html");	
				}
			}
		}
		
		function critiqueMode(mode, c2) {
			var mode = (mode == null) ? 0 : mode;
			
			$("body").unbind('sirikata_item_select', pictureSelectedEvent);
			$("body").unbind('sirikata_item_deselect', pictureDeSelectedEvent);
			
			if (mode == 0) {
				loadScreen("#modal-screen", "screens/critique_welcome.html");
			} else if (mode == 1) { // load
					loadScreen("#modal-screen", "screens/critique_load_gallery.html");	
			} else {
				hideScreen("#modal-screen");
				loadScreen("#top-bar", "screens/topbar_critique.html");	
				 if (mode == 2) { // walk 
					//loadScreen("#detail-screen", "screens/detail_coverflow.html");	
					hideScreen("#detail-screen");
					
					$("body").bind('sirikata_item_select', pictureSelectedEvent);
					$("body").bind('sirikata_item_deselect', pictureDeSelectedEvent);
			
				} else if (mode == 3) { // picture 
					loadScreen("#detail-screen", c2);
				}
			}
		}
		
		function developmentMode() {
			hideScreen("#modal-screen");
			loadScreen("#development-screen", "screens/development.html");	
		}
	
		

		function popUpMessage(text,x,y) {
			$('#popup-message').fadeIn("slow");
			$('#popup-message').html(text);
			$('#popup-message').css('left', x);
			$('#popup-message').css('top', y);
		}
		function hidePopUpMessage() {$('#popup-message').fadeOut("slow");};
		
		
		function debug(msg) {
			$("#development-console").append("<br>" + msg );
		}
		
		function pictureSelected(id) {
			if (id == null) {
				$("body").trigger('sirikata_item_select', {item: id});	
			} else {
				$("body").trigger('sirikata_item_deselect');
			}
		}
		
		function pictureSelectedEvent(event, data) {
			debug("selected " + data.intem);
				
		}
		function pictureDeSelectEvent(event) {
			debug("items deselected");
		}
	
		$(document).ready( function () {
			if ($.getURLParam('mode') == "curator") {
				setTimeout('setup(); loadScreen("#modal-screen", "screens/welcome_curator.html"); ', 1000);
			} else if ($.getURLParam('mode') == "critique") {
				setTimeout('setup(); loadScreen("#modal-screen", "screens/welcome_critique.html"); ', 1000);
			} else {
				setTimeout('setup(); loadScreen("#modal-screen", "screens/welcome.html"); ', 1000);
			}
			 
									 
		});
	</script>
<link href="css/style.css" rel="stylesheet" type="text/css" />
</head>

<body id="body">

<div id="modal-screen" ></div>

<div id="detail-screen"></div>

<div id="top-bar"></div>

<div id="bottom-bar"></div>

<div id="bottom-bar"></div>

<div id="navigation-screen"></div>

<div id="development-screen"></div>

<div id="popup-message"></div>

<div id="drop-screen"></div>

</body>
</html>
    
